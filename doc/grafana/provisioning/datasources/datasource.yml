# ==========================================
# Grafana Data Source Provisioning
# ==========================================
# Grafana 컨테이너 시작 시 자동으로 InfluxDB를 데이터소스로 등록
# 수동 설정 없이 K6 테스트 결과를 바로 시각화 가능

apiVersion: 1

datasources:
  - name: InfluxDB
    type: influxdb
    access: proxy                          # Grafana 서버를 통해 접근 (브라우저 직접 접근 X)
    url: http://influxdb:8086              # Docker 네트워크 내부 hostname
    database: k6                           # K6 테스트 결과가 저장되는 데이터베이스
    isDefault: true                        # 기본 데이터소스로 설정
    jsonData:
      timeInterval: "5s"                   # 데이터 집계 간격
      httpMode: GET                        # InfluxDB 1.x는 GET 모드 사용
    editable: true                         # Grafana UI에서 수정 가능
    version: 1                             # InfluxDB 버전 (1.x)
