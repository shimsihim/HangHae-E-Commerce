# e-Commerce 주문 서비스 개요

> 본 프로젝트는 e-Commerce 환경에서 발생하는 **동시성 제어**(재고/쿠폰/포인트), **비동기 처리**, **분산 락**, **캐싱** 등의 기술적 과제를 학습하고 구현하는 것을 목적으로 합니다.
>
> 기술적 학습에 집중하기 위해 기능과 테이블을 간소화하였습니다.


## 🛠 사용 기술 스택

| 영역        | 기술                  |
|-----------|---------------------|
| 언어        | Java                |
| 프레임워크     | Spring Boot         |
| 데이터베이스    | MySQL               |
| ORM       | JPA                 |
| 인메모리 DB   | Redis (캐싱 및 분산 락)   |
| 메시지 큐     | Kafka (비동기 처리)      |

## 🎯 주요 기능 범위 (Scope)
본 프로젝트에서 구현할 핵심 기능 범위는 다음과 같습니다.

- **회원/포인트:** 사용자 정보, 사용자 포인트 관리 (포인트 충전 및 사용 로직은 동시성 제어 대상)
- **상품/재고:** 상품 정보 조회. 상품 옵션별 재고 관리 (주문 시 동시성 제어 대상)
- **주문:** 장바구니 기능 및 주문 생성. 주문 시 재고 차감 및 포인트 사용/적립 로직 포함
- **쿠폰:** 선착순 쿠폰 발급 및 사용자 쿠폰 관리. (쿠폰 발급 시 동시성 제어 대상)
- **결제:** 주문에 대한 모의 결제 처리 및 결제 완료에 따른 후속 처리


## 📋 테이블

| 테이블명                  | 용도       | 동시성 제어 필요 |
|----------------------|----------|-----------|
| users                | 유저 정보    | X         |
| user_point           | 유저 포인트   | ✅         |
| products             | 상품 기본 정보 | X         |
| product_options      | 상품 옵션    | X         |
| product_option_stock | 상품 옵션 재고 | ✅         |
| cart                 | 장바구니     | X         |
| orders               | 주문       | X         |
| order_items          | 주문 상세    | X         |
| coupons              | 쿠폰 마스터   | ✅         |
| user_coupons         | 사용자 쿠폰   | X         |


## 💪 주요 기술 챌린지 및 학습 목표

### 동시성 및 데이터 일관성
- 대용량 트래픽 환경에서 재고 처리, 쿠폰 발급 시 데이터 정합성과 무결성 보장
- **분산 락**: Redis를 활용한 공유 자원 동시 접근 제어
- **고려사항**: 분산 트랜잭션 처리 방안 (Saga Pattern, Two-Phase Commit 등)

### 비동기 처리 및 이벤트 기반 아키텍처
- **분산 메시징**: Kafka를 통한 주요 도메인 이벤트 처리 (주문 생성, 쿠폰 발급, 결제 완료)
- **쿠폰 발급 시스템**: Kafka와 Redis를 조합한 선착순 대량 쿠폰 발급

### 성능 최적화
- **캐싱**: Redis를 통한 DB 부하 감소 및 응답 속도 향상
- **배치 처리**: 통계 테이블 업데이트 및 캐시 웜업

